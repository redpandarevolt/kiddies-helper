(this["webpackJsonpkiddies-helper"]=this["webpackJsonpkiddies-helper"]||[]).push([[0],{112:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},220:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(2),r=n.n(c),i=n(104),s=n.n(i),o=(n(112),n(11)),l=n.n(o),u=n(25),d=n(19),h=n(20),j=n(21),b=n(23),m=n(22),O=n(18),p=n(7),f=n(34),v=(n(114),n(115),function(e){var t=e.placeholder,n=e.handleChange;return Object(a.jsx)("input",{className:"search",type:"search",placeholder:t,onChange:n})}),x=(n(116),function(e){return Object(a.jsxs)("div",{className:"card-container",children:[Object(a.jsx)("img",{alt:"minions",src:"https://robohash.org/".concat(e.minions.id,"?set=set2&size=180x180")}),Object(a.jsx)("h2",{children:e.minions.name}),Object(a.jsxs)("p",{children:[" ",e.minions.email,"  "]}),Object(a.jsxs)("p",{children:[" ",e.minions.address.zipcode]})]})}),g=(n(117),function(e){return Object(a.jsx)("div",{className:"card-list",children:e.minions.map((function(e){return Object(a.jsx)(x,{minions:e},e.id)}))})}),C=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={minions:[],searchField:""},e.handleChange=e.handleChange.bind(Object(f.a)(e)),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){return e.setState({minions:t})}))}},{key:"handleChange",value:function(e){this.setState({searchField:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.minions,n=e.searchField;t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return Object(a.jsxs)("div",{className:"homepage",children:[Object(a.jsx)("div",{className:"directory-menu"}),Object(a.jsx)("div",{className:"menu-item",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h1",{className:"title",children:"Welcome to Kiddies Helper"}),Object(a.jsx)("span",{className:"subtitle",children:"Matching Students with Virtual Mentors"}),Object(a.jsx)("span",{className:"subtitle",children:"For Successful Learning and Social Connection"})]})}),Object(a.jsxs)("div",{className:"search-options",children:[Object(a.jsx)("div",{className:"box",children:Object(a.jsx)(v,{placeholder:"name",handleChange:this.handleChange})}),Object(a.jsx)("div",{className:"box",children:Object(a.jsx)(v,{placeholder:"zip code",handleChange:this.handleChange})}),Object(a.jsx)("div",{className:"box",children:Object(a.jsx)(v,{placeholder:"grade",handleChange:this.handleChange})})]})]})}}]),n}(c.Component),S=(n(118),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={minions:[],searchField:""},e.handleChange=e.handleChange.bind(Object(f.a)(e)),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){return e.setState({minions:t})}))}},{key:"handleChange",value:function(e){this.setState({searchField:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.minions,n=e.searchField,c=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return Object(a.jsxs)("div",{className:"Mentors",children:[Object(a.jsx)("h1",{children:"Meet Some of Our Mentors"}),Object(a.jsx)(v,{placeholder:"search minions",handleChange:this.handleChange}),Object(a.jsx)(g,{minions:c})]})}}]),n}(c.Component)),N=(n(119),n(24)),k=function(e){var t=e.username,n=e.handleUsernameChange,c=e.roomName,r=e.handleRoomNameChange,i=e.handleSubmit;return Object(a.jsx)("form",{onSubmit:i,children:Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("h2",{children:"Enter a room"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(a.jsx)("input",{type:"text",id:"field",value:t,onChange:n,required:!0})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"room",children:"Room name:"}),Object(a.jsx)("input",{type:"text",id:"room",value:c,onChange:r,required:!0})]}),Object(a.jsx)("button",{type:"submit",children:"Submit"})]})})},w=n(39),y=n(105),_=n.n(y),P=function(e){var t=e.participant,n=Object(c.useState)([]),r=Object(N.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)([]),l=Object(N.a)(o,2),u=l[0],d=l[1],h=Object(c.useRef)(),j=Object(c.useRef)(),b=function(e){return Array.from(e.values()).map((function(e){return e.track})).filter((function(e){return null!==e}))};return Object(c.useEffect)((function(){s(b(t.videoTracks)),d(b(t.audioTracks));return t.on("trackSubscribed",(function(e){"video"===e.kind?s((function(t){return[].concat(Object(w.a)(t),[e])})):"audio"===e.kind&&d((function(t){return[].concat(Object(w.a)(t),[e])}))})),t.on("trackUnsubscribed",(function(e){"video"===e.kind?s((function(t){return t.filter((function(t){return t!==e}))})):"audio"===e.kind&&d((function(t){return t.filter((function(t){return t!==e}))}))})),function(){s([]),d([]),t.removeAllListeners()}}),[t]),Object(c.useEffect)((function(){var e=i[0];if(e)return e.attach(h.current),function(){e.detach()}}),[i]),Object(c.useEffect)((function(){var e=u[0];if(e)return e.attach(j.current),function(){e.detach()}}),[u]),Object(a.jsxs)("div",{className:"participant",children:[Object(a.jsx)("h3",{children:t.identity}),Object(a.jsx)("video",{ref:h,autoPlay:!0}),Object(a.jsx)("audio",{ref:j,autoPlay:!0,muted:!0})]})},E=function(e){var t=e.roomName,n=e.token,r=e.handleLogout,i=Object(c.useState)(null),s=Object(N.a)(i,2),o=s[0],l=s[1],u=Object(c.useState)([]),d=Object(N.a)(u,2),h=d[0],j=d[1];Object(c.useEffect)((function(){var e=function(e){j((function(t){return[].concat(Object(w.a)(t),[e])}))},a=function(e){j((function(t){return t.filter((function(t){return t!==e}))}))};return _.a.connect(n,{name:t}).then((function(t){l(t),t.on("participantConnected",e),t.on("participantDisconnected",a),t.participants.forEach(e)})),function(){l((function(e){return e&&"connected"===e.localParticipant.state?(e.localParticipant.tracks.forEach((function(e){e.track.stop()})),e.disconnect(),null):e}))}}),[t,n]);var b=h.map((function(e){return Object(a.jsx)(P,{participant:e},e.sid)}));return Object(a.jsxs)("div",{className:"room",children:[Object(a.jsxs)("h2",{children:["Room: ",t]}),Object(a.jsx)("button",{onClick:r,children:"Log out"}),Object(a.jsx)("div",{className:"local-participant",children:o?Object(a.jsx)(P,{participant:o.localParticipant},o.localParticipant.sid):""}),Object(a.jsx)("h3",{children:"Remote Participants"}),Object(a.jsx)("div",{className:"remote-participants",children:b})]})},T=function(){var e=Object(c.useState)(""),t=Object(N.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),s=Object(N.a)(i,2),o=s[0],u=s[1],h=Object(c.useState)(null),j=Object(N.a)(h,2),b=j[0],m=j[1],O=Object(c.useCallback)((function(e){r(e.target.value)}),[]),p=Object(c.useCallback)((function(e){u(e.target.value)}),[]),f=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/video/token",{method:"POST",body:JSON.stringify({identity:n,room:o}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:a=e.sent,m(a.token);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,n]),v=Object(c.useCallback)((function(e){m(null)}),[]);return b?Object(a.jsx)(E,{roomName:o,token:b,handleLogout:v}):Object(a.jsx)(k,{username:n,roomName:o,handleUsernameChange:O,handleRoomNameChange:p,handleSubmit:f})},I=function(){return Object(a.jsxs)("div",{className:"video-sign-in",children:[Object(a.jsx)("header",{children:Object(a.jsx)("h1",{children:"Get Ready For Learning and Fun"})}),Object(a.jsx)("main",{children:Object(a.jsx)(T,{})}),Object(a.jsx)("footer",{children:Object(a.jsx)("div",{class:"made-with",children:Object(a.jsxs)("p",{children:["Made with"," ",Object(a.jsx)("span",{role:"img","aria-label":"React",children:"\u269b\ufe0f"})," ","React"]})})})]})},A=(n(220),n(35)),R=(n(221),n(223),function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=U.doc("users/".concat(t.uid)),e.next=5,a.get();case 5:if(e.sent.exists){e.next=17;break}return c=t.displayName,r=t.email,i=new Date,e.prev=9,e.next=12,a.set(Object(u.a)({displayName:c,email:r,createdAt:i},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}());A.a.initializeApp({apiKey:"AIzaSyBLAViunVGLPCKRjsdjjMs6Iljy0BxUqlo",authDomain:"kiddies-helper-db.firebaseapp.com",projectId:"kiddies-helper-db",storageBucket:"kiddies-helper-db.appspot.com",messagingSenderId:"800452674263",appId:"1:800452674263:web:d5dff59c1e76008d956692"});var D=A.a.auth(),U=A.a.firestore(),L=new A.a.auth.GoogleAuthProvider;L.setCustomParameters({prompt:"select_account"});var F=function(){return D.signInWithPopup(L)},W=(A.a,function(e){var t=e.currentUser;return Object(a.jsx)("div",{className:"top-nav",children:Object(a.jsxs)("ul",{className:"nav-titles",children:[Object(a.jsxs)("li",{className:"nav-item",children:[" ",Object(a.jsx)(O.b,{to:"/",children:"KH"})]}),Object(a.jsxs)("li",{className:"nav-item",children:[" ",Object(a.jsx)(O.b,{to:"/",children:" Home"})]}),Object(a.jsxs)("li",{className:"nav-item",children:[" ",Object(a.jsx)(O.b,{to:"/mentor-connect",children:"Mentor Connect"})]}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.b,{to:"/mentors",children:"Mentors"})}),t?Object(a.jsx)("div",{className:"nav-item",onClick:function(){return D.signOut()},children:Object(a.jsx)("button",{children:"SIGN OUT"})}):Object(a.jsx)(O.b,{className:"nav-item",to:"/sign-in",children:Object(a.jsx)("button",{children:"SIGN IN"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.b,{className:"nav-item",to:"/sign-in",children:Object(a.jsx)("button",{children:"SIGN UP"})})})]})})}),K=(n(229),n(230),n(44)),H=(n(231),function(e){var t=e.handleChange,n=e.label,c=Object(K.a)(e,["handleChange","label"]);return Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("input",Object(u.a)({className:"form-input",onChange:t},c)),n?Object(a.jsx)("label",{className:"".concat(c.value.length?"shrink":""," form-input-label"),children:n}):null]})}),M=(n(232),function(e){var t=e.children,n=e.isGoogleSignIn,c=Object(K.a)(e,["children","isGoogleSignIn"]);return Object(a.jsx)("button",Object(u.a)(Object(u.a)({className:"".concat(n?"google-sign-in":""," custom-button")},c),{},{children:t}))}),G=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,c=n.email,r=n.password,e.prev=2,e.next=5,D.signInWithEmailAndPassword(c,r);case 5:a.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.value,c=t.name;a.setState({[c]:n})},a.state={email:"",password:""},a}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"sign-in",children:[Object(a.jsx)("h2",{children:"I already have an account"}),Object(a.jsx)("span",{children:"Sign in with your email and password"}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)(H,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"email",required:!0}),Object(a.jsx)(H,{name:"password",type:"password",handleChange:this.handleChange,value:this.state.password,label:"password",required:!0}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(M,{type:"submit",children:"Sign In"}),Object(a.jsx)(M,{onClick:F,isGoogleSignIn:!0,children:"Sign in with Google"})]})]})]})}}]),n}(r.a.Component),q=(n(233),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c,r,i,s,o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,c=a.displayName,r=a.email,i=a.password,s=a.confirmPassword,i===s){t.next=5;break}return alert("passwords must match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,D.createUserWithEmailAndPassword(r,i);case 8:return o=t.sent,u=o.user,t.next=12,R(u,{displayName:c});case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState({[a]:c})},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,c=e.password,r=e.confirmPassword;return Object(a.jsxs)("div",{className:"sign-up",children:[Object(a.jsx)("h2",{className:"title",children:" I do not have an account."}),Object(a.jsx)("span",{children:"Set up new user profile"}),Object(a.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleSubmit,children:[Object(a.jsx)(H,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),Object(a.jsx)(H,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),Object(a.jsx)(H,{type:"password",name:"password",value:c,onChange:this.handleChange,label:"Password",required:!0}),Object(a.jsx)(H,{type:"password",name:"confirmPassword",value:r,onChange:this.handleChange,label:"Confirm Password",required:!0}),Object(a.jsx)(M,{type:"submit",children:"Sign Up"})]})]})}}]),n}(r.a.Component)),B=function(){return Object(a.jsxs)("div",{className:"sign-in-and-sign-up",children:[Object(a.jsx)(G,{}),Object(a.jsx)(q,{})]})};n(234);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/kiddies-helper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TWILIO_ACCOUNT_SID),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/kiddies-helper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TWILIO_API_KEY),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/kiddies-helper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TWILIO_API_SECRET);var V=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).unsubscribeFromAuth=null,a.state={currentUser:null},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=D.onAuthStateChanged(function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,R(n);case 3:t.sent.onSnapshot((function(t){e.setState({currentUser:Object(u.a)({id:t.id},t.data())})}));case 5:e.setState({currentUser:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return Object(a.jsxs)(O.a,{children:[Object(a.jsx)(W,{currentUser:this.state.currentUser}),Object(a.jsxs)(p.c,{children:[Object(a.jsx)(p.a,{path:"/sign-in",children:Object(a.jsx)(B,{})}),Object(a.jsx)(p.a,{path:"/mentors",children:Object(a.jsx)(S,{})}),Object(a.jsx)(p.a,{path:"/mentor-connect",children:Object(a.jsx)(I,{})}),Object(a.jsx)(p.a,{path:"/",children:Object(a.jsx)(C,{})})]})]})}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(a.jsx)(O.a,{children:Object(a.jsx)(V,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[235,1,2]]]);
//# sourceMappingURL=main.477d37c7.chunk.js.map